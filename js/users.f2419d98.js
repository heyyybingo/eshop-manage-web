(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["users"],{"23cd":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("span",{staticStyle:{color:"#303133"}},[a("a-icon",{attrs:{type:"unordered-list"}}),t._v(" 筛选搜索")],1),a("a-space",{staticStyle:{float:"right"}},[a("a-button",{on:{click:t.reset}},[t._v(" 重置 ")]),a("a-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v(" 查询用户 ")])],1),a("a-form",{staticClass:"search-form",attrs:{"label-col":{span:2},"wrapper-col":{span:5}}},[a("a-form-item",{attrs:{label:"输入搜索"}},[a("a-input",{attrs:{id:"name",placeholder:"账号/姓名"},model:{value:t.searchUser.search,callback:function(e){t.$set(t.searchUser,"search",e)},expression:"searchUser.search"}})],1)],1)],1),a("div",{staticClass:"container"},[a("span",{staticStyle:{color:"#303133"}},[a("a-icon",{attrs:{type:"unordered-list"}}),t._v(" 用户列表")],1)]),a("a-table",{attrs:{rowKey:"id",columns:t.columns,"data-source":this.data,pagination:this.pagination},scopedSlots:t._u([{key:"pic",fn:function(t){return[a("img",{attrs:{src:t,width:"50px"}})]}},{key:"action",fn:function(e){return[a("a",{on:{click:function(a){return t.showEditModal(e)}}},[t._v(" 编辑")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(a){return t.showConfirm(e)}}},[t._v("注销用户")])]}}])}),a("a-modal",{attrs:{title:"编辑用户",visible:t.visible_edit},on:{ok:t.editSubmit,cancel:t.editCancel}},[a("a-form",{attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol}},[a("a-form-item",{attrs:{label:"账号"}},[a("a-input",{attrs:{id:"accountname"},model:{value:t.editUser.accountname,callback:function(e){t.$set(t.editUser,"accountname",e)},expression:"editUser.accountname"}})],1),a("a-form-item",{attrs:{label:"姓名"}},[a("a-input",{attrs:{id:"username"},model:{value:t.editUser.username,callback:function(e){t.$set(t.editUser,"username",e)},expression:"editUser.username"}})],1),a("a-form-item",{attrs:{label:"头像"}},[a("a-input",{attrs:{id:"avatar"},model:{value:t.editUser.avatar,callback:function(e){t.$set(t.editUser,"avatar",e)},expression:"editUser.avatar"}})],1),a("a-form-item",{attrs:{label:"电话"}},[a("a-input",{attrs:{id:"phone"},model:{value:t.editUser.phone,callback:function(e){t.$set(t.editUser,"phone",e)},expression:"editUser.phone"}})],1),a("a-form-item",{attrs:{label:"邮箱"}},[a("a-input",{attrs:{id:"mail"},model:{value:t.editUser.mail,callback:function(e){t.$set(t.editUser,"mail",e)},expression:"editUser.mail"}})],1),a("a-form-item",{attrs:{label:"密码"}},[a("a-input",{attrs:{type:"password",id:"password"},model:{value:t.editUser.password,callback:function(e){t.$set(t.editUser,"password",e)},expression:"editUser.password"}})],1)],1)],1)],1)},r=[],n=(a("d3b7"),a("2612")),o=[{title:"id",dataIndex:"id",key:"id"},{title:"头像",dataIndex:"avatar",key:"avatar",scopedSlots:{customRender:"pic"}},{title:"账号",dataIndex:"accountname",key:"accountname"},{title:"用户名",dataIndex:"username",key:"username"},{title:"电话",dataIndex:"phone",key:"phone"},{title:"邮箱",key:"mail",dataIndex:"mail"},{title:"操作",key:"action",scopedSlots:{customRender:"action"}}],i={data:function(){return{data:null,columns:o,visible_edit:!1,editUser:{},searchUser:{},pagination:{defaultPageSize:6},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:12}}}},created:function(){this.getList()},methods:{getList:function(){var t=this;Object(n["d"])().then((function(e){t.data=e.data.page.list}))},showConfirm:function(t){var e=this;this.$confirm({title:"确认注销该用户?",okText:"确认",cancelText:"取消",onOk:function(){return console.log(t.id),Object(n["b"])([t.id]).then((function(t){0===t.data.code&&(console.log("删除成功"),e.getList())})),new Promise((function(t,e){setTimeout(Math.random()>.5?t:e,1e3)})).catch((function(t){return console.log(t)}))},onCancel:function(){}})},showEditModal:function(t){this.editUser=t,this.visible_edit=!0},editSubmit:function(){var t=this;this.visible_edit=!1,console.log(this.editUser),Object(n["e"])(this.editUser).then((function(e){0===e.data.code&&(console.log("编辑成功"),t.getList())}))},editCancel:function(){this.visible_edit=!1},reset:function(){this.searchUser={},this.getList()},search:function(){var t=this;console.log(this.searchUser),Object(n["c"])(this.searchUser).then((function(e){t.data=e.data.page.list}))}}},c=i,l=(a("2dbe"),a("2877")),u=Object(l["a"])(c,s,r,!1,null,"3c5caecd",null);e["default"]=u.exports},2612:function(t,e,a){"use strict";a.d(e,"d",(function(){return n})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return i})),a.d(e,"b",(function(){return c})),a.d(e,"c",(function(){return l}));var s=a("bb36"),r={selectAllUsers:"/user/list",deleteUser:"/user/delete",addUser:"user/save",updateUser:"user/update",searchUsers:"user/list"};function n(){return Object(s["a"])({url:r.selectAllUsers,method:"post"})}function o(t){return Object(s["a"])({url:r.addUser,method:"post",data:t})}function i(t){return Object(s["a"])({url:r.updateUser,method:"post",data:t})}function c(t){return Object(s["a"])({url:r.deleteUser,method:"post",data:t})}function l(t){return Object(s["a"])({url:r.searchUsers,method:"get",params:t})}},"2dbe":function(t,e,a){"use strict";a("e836")},"4f7c":function(t,e,a){"use strict";a("b224")},"6a9f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=this,a=e.$createElement,s=e._self._c||a;return s("div",[s("a-page-header",{attrs:{title:"新增用户"},on:{back:function(){t.$router.back()}}}),s("div",{staticClass:"container"},[s("a-form",[s("a-form-item",e._b({attrs:{label:"用户头像"}},"a-form-item",e.formItemLayout,!1),[s("a-upload",{attrs:{name:"file",action:"https://www.mocky.io/v2/5cc8019d300000980a055e76"}},[s("a-button",[s("a-icon",{attrs:{type:"upload"}}),e._v(" Click to Upload ")],1)],1)],1),s("a-form-item",e._b({attrs:{label:"账号"}},"a-form-item",e.formItemLayout,!1),[s("a-input",{attrs:{placeholder:"请输入账号..."},model:{value:e.user.accountname,callback:function(t){e.$set(e.user,"accountname",t)},expression:"user.accountname"}})],1),s("a-form-item",e._b({attrs:{label:"用户名"}},"a-form-item",e.formItemLayout,!1),[s("a-input",{attrs:{placeholder:"请输入用户名..."},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),s("a-form-item",e._b({attrs:{label:"密码"}},"a-form-item",e.formItemLayout,!1),[s("a-input",{attrs:{type:"password",placeholder:"请输入密码..."},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),s("a-form-item",e._b({attrs:{label:"手机"}},"a-form-item",e.formItemLayout,!1),[s("a-input",{attrs:{placeholder:"请输入手机号..."},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}})],1),s("a-form-item",e._b({attrs:{label:"邮箱"}},"a-form-item",e.formItemLayout,!1),[s("a-input",{attrs:{placeholder:"请输入邮箱..."},model:{value:e.user.mail,callback:function(t){e.$set(e.user,"mail",t)},expression:"user.mail"}})],1),s("a-form-item",e._b({},"a-form-item",e.tailFormItemLayout,!1),[s("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.addSubmit(e.user)}}},[e._v(" 添加用户 ")])],1)],1)],1)],1)},r=[],n=a("2612"),o={data:function(){return{user:{},formItemLayout:{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:8}}},tailFormItemLayout:{wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}}}},methods:{addSubmit:function(t){var e=this;t.avatar="https://wx1.sinaimg.cn/mw690/0078MmVqly1gmha343japj302x02xt8v.jpg",console.log(t),Object(n["a"])(t).then((function(t){0===t.data.code&&(e.$success({title:"添加成功"}),console.log("添加成功"),e.user={})}))}}},i=o,c=(a("4f7c"),a("2877")),l=Object(c["a"])(i,s,r,!1,null,"c3c19f0c",null);e["default"]=l.exports},b224:function(t,e,a){},e836:function(t,e,a){}}]);
//# sourceMappingURL=users.f2419d98.js.map